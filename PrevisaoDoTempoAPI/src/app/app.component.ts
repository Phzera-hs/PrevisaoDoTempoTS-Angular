import { Component } from '@angular/core'; import { TransferClimateService } from './transfer-climate.service'; @Component({ selector: 'app-climate-view', templateUrl: 'climate-view.component.html', styleUrls: ['./climate-view.component.css'], }) export class ClimateViewComponent { title = 'PrevisaoDoTempoAPI'; receivedData: any; cidade: string = ''; erroCidade: boolean = false; constructor(private transferClimate: TransferClimateService) { } async ngOnInit(): Promise<void> { this.transferClimate.currentData.subscribe((data) => { this.receivedData = data; console.log('Dados recebidos ', this.receivedData); }); } BuscaCidade() { const cidadeClimateView = document.querySelector('.input-cidade') as HTMLInputElement; const cidade = cidadeClimateView.value.trim(); if (!cidade) { this.erroCidade = true; return; } this.erroCidade = false; this.transferClimate.changeData({ cidade }); } Deleta() { this.receivedData = null; this.cidade = ''; this.erroCidade = false; const cidadeClimateView = document.querySelector('.input-cidade') as HTMLInputElement; cidadeClimateView.value = ''; } }